(function(){angular.module("BossApp",["ngRoute","ngAnimate","ngSanitize","localytics.directives","ngDialog","ngFileUpload","ngWYSIWYG"]);angular.module("BossApp").directive("fileModel",["$parse",function(e){return{restrict:"A",link:function(o,t,n){var r=e(n.fileModel);var s=r.assign;t.bind("change",function(){o.$apply(function(){s(o,t[0].files[0])})})}}}]);angular.module("BossApp").directive("uploadFiles",["$parse",function(e){return{scope:true,link:function(e,o,t){o.bind("change",function(o){var t=o.target.files;for(var n=0;n<t.length;n++){e.$emit("seletedFile",{file:t[n]})}})}}}]);angular.module("BossApp").directive("onlyNum",function(){return function(e,o,t){var n=[8,9,37,39,48,49,50,51,52,53,54,55,56,57,96,97,98,99,100,101,102,103,104,105,110];o.bind("keydown",function(o){if($.inArray(o.which,n)===-1){e.$apply(function(){e.$eval(t.onlyNum);o.preventDefault()});o.preventDefault()}})}});angular.module("BossApp").service("fileUpload",["$http","$route","$window","ngToast",function(e,o,t,n){this.uploadFileToUrl=function(o,t){var n=new FormData;for(var r in o)n.append(r,o[r]);e.post(t,n,{transformRequest:angular.identity,headers:{"Content-Type":undefined}})}}]);angular.module("BossApp").factory("socket",e);function e(e){var o=io.connect("http://192.168.137.1:3000");return{on:function(e,t){o.on(e,t)},emit:function(e,t){o.emit(e,t)}}}})();(function(){angular.module("BossApp").controller("loginCtrl",e).controller("forgetPassword",o).controller("resetPassCtrl",t);e.$inject=["$scope","$http","$route","$window","$location","ngDialog"];o.$inject=["$scope","$http"];t.$inject=["$scope","$http","$route","$window","$location"];function e(e,o,t,n,r,s){e.credentials={emailphone:"",password:""};e.login="Login";function i(){o.post("/user/login",e.credentials).then(function(e){if(e.data.redirectUrl){n.location.href="/user"+e.data.redirectUrl}else{n.location.href="/user"}},function(o){e.formError=o.data.message;e.login="Login";e.showbtn=false})}e.onSubmit=function(){e.formError="";e.login="Logining....";e.showbtn=true;i()};e.clear=function(){e.formError=""};e.forgetPassword=function(){s.open({template:"forgetPassword",controller:"forgetPassword",className:"ngdialog-theme-default",closeByDocument:false,closeByEscape:false})};e.passReset=function(e){if(!e){return}}}function o(e,o){e.button="Reset Password";e.submitted=false;e.reset=function(t){e.clear();if(!t){e.submitted=true;return}e.button="Sending...";o.post("/user/forget",e.credentials).then(function(o){e.formSuccess=o.data.message;e.button="Reset Password";e.credentials.email="";e.submitted=false},function(o){e.formError=o.data.message;e.button="Reset Password"})};e.clear=function(){e.formError="";e.formSuccess=""}}function t(e,o,t,n,r){e.button="Reset Password";e.submitted=false;e.passReset=function(t){e.clear();if(!t){e.submitted=true;return}e.button="Sending...";o.post("/user/reset/"+e.token,e.credentials).then(function(o){e.formSuccess=o.data.message;e.button="Reset Password";n.location.href="/user"},function(o){e.formError=o.data.message;e.button="Reset Password"})};e.clear=function(){e.formError="";e.formSuccess=""}}})();(function(){angular.module("BossApp").controller("registerCtrl",o).controller("successSignup",e);o.$inject=["$scope","$http","$route","$window","$location","ngDialog"];e.$inject=["$scope","user"];function e(e,o){e.fullname=o.fullname}function o(e,o,t,n,r,s){e.credentials={firstname:"",lastname:"",emailphone:"",password1:"",password2:""};e.register="Register";e.popUp=function(e,o){s.open({template:"successPop",controller:"successSignup",className:"ngdialog-theme-default",closeByDocument:false,closeByEscape:false,resolve:{user:function(){return{fullname:e+" "+o}}}})};function i(){e.register="Register";o.post("/user/register",e.credentials).then(function(o){e.popUp(o.data.firstname,o.data.lastname);e.register="Processing..."},function(o){e.formError=o.data.message;e.register="Register"})}e.onSubmit=function(e){if(e){i()}};e.clear=function(){e.formError=""}}})();(function(){angular.module("BossApp").controller("addjobCtrl",t).controller("postjobCtrl",o).controller("profileCtrl",e);o.$inject=["$scope","job","$http","$route","$window","ngDialog"];t.$inject=["$scope","$http","$route","$window","ngDialog"];e.$inject=["$scope","Upload","$window","$http"];function e(e,o,t,n){e.profile={};e.btn="Edit";e.Pbtn="Change";e.edit=function(o){if(!o){e.formError="All field are required";return}e.update()};e.change=function(o){if(!o){e.passError="Fill the form properly!";return}e.changePassword()};e.changePassword=function(){e.Pbtn="Changing...";e.Pclear();n.post("/user/changePassword",e.password).then(function(o){e.passSuccess=o.data.message;e.Pbtn="Change"},function(o){e.passError=o.data.message;e.Pbtn="Change"})};e.update=function(){e.btn="Editting...";e.clear();e.clear();var o="/user/profile";e.formError="";var r=new FormData;for(var s in e.profile)r.append(s,e.profile[s]);n.post(o,r,{transformRequest:angular.identity,headers:{"Content-Type":undefined}}).then(function(e){t.location.href="/user/profile"},function(o){e.formError=o.data.message;e.formSuccess="";e.btn="Edit"})};e.clear=function(){e.formError=""};e.Pclear=function(){e.passSuccess="";e.passError=""}}function o(e,o,t,n,r,s){e.jobId=o.jobId;e.price=1;e.message="";e.button="Post Job";e.check=function(o){if(e.price*100>o){e.message="You dont have credit to post this job";e.button="Get Credit"}else{e.message="";e.button="Post Job"}};e.postjob=function(o){if(e.price*100>o){s.open({template:"getGradit",controller:"getCraditCtrl",className:"ngdialog-theme-default",closeByDocument:false,closeByEscape:false});e.closeThisDialog("Some value")}if(e.price==null){return}if(e.price*100>o){}else{e.button="Posting....";t.post("/user/post-job/"+e.jobId+"/"+e.price).then(function(e){r.location.href="/user/manage-jobs"},function(o){e.button="Post Job"})}}}function t(e,o,t,n,r){e.editorConfig={toolbar:[{name:"basicStyling",items:["bold","italic","strikethrough","subscript","superscript","-","leftAlign","-"]},{name:"paragraph",items:["orderedList","unorderedList","outdent","indent","-"]},{name:"doers",items:["removeFormatting","undo","redo","-"]},{name:"links",items:["symbols","link","unlink","-"]},{name:"styling",items:["format"]}]};e.postjob=function(e){r.open({template:"postjob",controller:"postjobCtrl",className:"ngdialog-theme-default",closeByDocument:false,closeByEscape:false,preCloseCallback:function(e){n.location.href="/user/manage-jobs";return true},resolve:{job:function(){return{jobId:e}}}})};e.job={};e.submitted=false;e.login="Post job";e.create=function(t){e.submitted=true;e.check();e.clear();if(!t){e.formError="Fill all the required fields properly.";return}if(e.job.aboutJob==null){e.formError="Enter datails about this job in the 'About job' field.";return}var n="/user/addjob";e.formError="";e.login="Posting...";var r=new FormData;for(var s in e.job)r.append(s,e.job[s]);o.post(n,r,{transformRequest:angular.identity,headers:{"Content-Type":undefined}}).then(function(o){e.formSuccess=o.data.message;e.login="Post job";e.postjob(o.data.jobId)},function(o){e.formError=o.data.message;e.login="Post job"})};e.check=function(){if(e.job.paymentType=="Negotiable"&&e.job.paymentType==""){e.job.payment=null}};e.clear=function(){e.formError="";e.formSuccess=""}}})();(function(){angular.module("BossApp").controller("editJobCtrl",e);e.$inject=["$scope","$http","$route","$window","ngDialog"];function e(e,o,t,n,r){e.editorConfig={toolbar:[{name:"basicStyling",items:["bold","italic","strikethrough","subscript","superscript","-","leftAlign","-"]},{name:"paragraph",items:["orderedList","unorderedList","outdent","indent","-"]},{name:"doers",items:["removeFormatting","undo","redo","-"]},{name:"links",items:["image","hr","symbols","link","unlink","-"]},{name:"styling",items:["format"]}]};e.job={};e.submitted=false;e.login="Edit job";e.edit=function(t){e.submitted=true;e.check();e.clear();if(!t){e.formError="Fill all the required fields properly.";return}if(e.job.aboutJob==null){e.formError="Enter datails about this job in the 'About job' field.";return}var n="/user/editjob/"+e.job.id;e.formError="";e.login="Editing...";var r=new FormData;for(var s in e.job)r.append(s,e.job[s]);o.post(n,r,{transformRequest:angular.identity,headers:{"Content-Type":undefined}}).then(function(o){e.formSuccess=o.data.message;e.login="Edit job"},function(o){e.formError=o.data.message;e.login="Edit job"})};e.check=function(){if(e.job.paymentType=="Negotiable"||e.job.paymentType==""){e.job.payment=null}};e.clear=function(){e.formError="";e.formSuccess=""}}})();(function(){angular.module("BossApp").controller("managejobCtrl",o).controller("removejobCtrl",r).controller("applyjobCtrl",t).controller("sendAppCtrl",n).controller("blogCtrl",e);o.$inject=["$scope","ngDialog"];r.$inject=["$scope","job","$http","$route","$window","ngDialog"];t.$inject=["$scope","ngDialog"];n.$inject=["$scope","applyJob","$http","$route","$window","ngDialog"];e.$inject=["$scope","$http","$window","$location"];function e(e,o,t,n){e.btn="Add comment";e.click=function(n){if(e.comment.name==null||e.comment.body==null){return}e.btn="Adding comment...";o.post("/user/post/comment/"+n,e.comment).then(function(e){t.location.href="/user/blog/"+n},function(o){e.btn="Add comment"})}}function o(e,o){e.adminSearch="";e.adminSearchjob=function(e){$window.location.href="/admin/manage-jobs?search="+e};e.removejob=function(e,t){o.open({template:"removejob",controller:"removejobCtrl",className:"ngdialog-theme-default",resolve:{job:function(){return{id:e,title:t}}}})};e.postjob=function(e){o.open({template:"postjob",controller:"postjobCtrl",className:"ngdialog-theme-default",closeByDocument:false,closeByEscape:false,resolve:{job:function(){return{jobId:e}}}})}}function t(e,o){e.applyjob=function(e){o.open({template:"applyforjob",controller:"sendAppCtrl",className:"ngdialog-theme-default",closeByDocument:false,closeByEscape:false,resolve:{applyJob:function(){return{jobId:e}}}})}}function n(e,o,t,n,r,s){e.id=o.jobId;e.app={};e.send="Send application";e.sendApp=function(o){e.submitted=true;e.clear();if(!o){return}var n="/user/applyjob/"+e.id;e.formError="";e.send="Sending...";var s=new FormData;for(var i in e.app)s.append(i,e.app[i]);t.post(n,s,{transformRequest:angular.identity,headers:{"Content-Type":undefined}}).then(function(o){e.formSuccess=o.data.message;e.send="Send application";r.location.reload()},function(o){e.formError=o.data.message;e.send="Send application"})};e.clear=function(){e.formError="";e.formSuccess=""}}function r(e,o,t,n,r,s){e.id=o.id;e.title=o.title;e.remove="Remove";e.removejob=function(){e.remove="Removing.....";t.post("/user/removejob/"+e.id).then(function(e){r.location.href="/user/manage-jobs"},function(o){e.remove="Remove"})}}})();(function(){angular.module("BossApp").controller("addresumeCtrl",o).controller("manageresumeCtrl",n).controller("removeresumeCtrl",r).controller("editresumeCtrl",t).controller("postresumeCtrl",e);o.$inject=["$scope","ngDialog","$http","$route","$window"];r.$inject=["$scope","resume","$http","$route","$window","ngDialog"];t.$inject=["$scope","$http"];n.$inject=["$scope","ngDialog"];e.$inject=["$scope","resume","$http","$route","$window","ngDialog"];function e(e,o,t,n,r,s){e.resumeId=o.resumeId;e.price=1;e.message="";e.button="Post Freelance";e.check=function(o){if(e.price*100>o){e.message="You dont have credit to post this freelance";e.button="Get Credit"}else{e.message="";e.button="Post Freelance"}};e.postresume=function(o){if(e.price==null){return}if(e.price*100>o){}else{e.button="Posting....";t.post("/user/post-resume/"+e.resumeId+"/"+e.price).then(function(e){r.location.href="/user/manage-freelance"},function(o){e.button="Post Freelance"})}}}function o(e,o,t,n,r){e.editorConfig={toolbar:[{name:"basicStyling",items:["bold","italic","strikethrough","subscript","superscript","-","leftAlign","-"]},{name:"paragraph",items:["orderedList","unorderedList","outdent","indent","-"]},{name:"doers",items:["removeFormatting","undo","redo","-"]},{name:"links",items:["symbols","link","unlink","-"]},{name:"styling",items:["format"]}]};e.resume={};e.educations=[];e.experiences=[];e.btn="Post Freelance";e.submitted=false;var s=(new Date).getFullYear();var i=[];for(var a=0;a<30;a++){i.push(s-a)}e.years=i;e.resume.educations=e.educations;e.resume.experiences=e.experiences;e.addNewEducation=function(){e.educations.push({})};e.addNewExperience=function(){e.experiences.push({})};e.removeEducation=function(o){e.educations.splice(o,1)};e.removeExperience=function(o){e.experiences.splice(o,1)};e.postresume=function(e){o.open({template:"postresume",controller:"postresumeCtrl",className:"ngdialog-theme-default",closeByDocument:false,closeByEscape:false,preCloseCallback:function(e){r.location.href="/user/manage-freelance";return true},resolve:{resume:function(){return{resumeId:e}}}})};e.save=function(o){e.submitted=true;e.clear();e.check();if(!o){e.formError="Fill all the required fields properly";return}if(e.resume.aboutMe==null){e.formError="Enter your About Me / Professional Summary.";return}e.btn="Posting...";var n="/user/add-resume";t.post(n,e.resume).then(function(o){e.btn="Post freelance";e.formSuccess=o.data.message;e.postresume(o.data.resumeId)},function(o){e.btn="Post freelance";e.formError=o.data.message})};e.check=function(){if(e.resume.paymentType=="Negotiable"||e.resume.paymentType==""){e.resume.payment=null}};e.clear=function(){e.formError="";e.formSuccess=""}}function t(e,o){e.resume={};e.educations=[];e.experiences=[];e.btn="Post freelance";var t=(new Date).getFullYear();var n=[];for(var r=0;r<30;r++){n.push(t-r)}e.years=n;e.addNewEducation=function(){e.educations.push({})};e.addNewExperience=function(){e.experiences.push({})};e.removeEducation=function(o){e.educations.splice(o,1)};e.removeExperience=function(o){e.experiences.splice(o,1)};e.save=function(t,n){e.resume.educations=e.educations;e.resume.experiences=e.experiences;e.submitted=true;e.clear();e.check();if(!t){e.formError="Fill all the required fields properly";return}if(e.resume.aboutMe==null){e.formError="Enter About Me / Professional Summary.";return}e.btn="Posting...";var r="/user/editresume/"+n;o.post(r,e.resume).then(function(o){e.btn="Post freelance";e.formSuccess=o.data.message},function(o){e.btn="Post freelance";e.formError=o.data.message})};e.check=function(){if(e.resume.paymentType=="Negotiable"||e.resume.paymentType==""){e.resume.payment=""}};e.clear=function(){e.formError="";e.formSuccess=""}}function n(e,o){console.log("working");e.removeresume=function(e,t){o.open({template:"removeresume",controller:"removeresumeCtrl",className:"ngdialog-theme-default",resolve:{resume:function(){return{id:e,title:t}}}})};e.postresume=function(e){o.open({template:"postresume",controller:"postresumeCtrl",className:"ngdialog-theme-default",closeByDocument:false,closeByEscape:false,resolve:{resume:function(){return{resumeId:e}}}})}}function r(e,o,t,n,r,s){e.id=o.id;e.title=o.title;e.remove="Remove";e.removeresume=function(){e.remove="Removing.....";t.post("/user/removeresume/"+e.id).then(function(e){r.location.href="/user/manage-freelance"},function(o){e.remove="Remove"})}}})();(function(){angular.module("BossApp").controller("browsejobCtrl",e).controller("browseresumeCtrl",o).controller("browseBlogCtrl",t);e.$inject=["$scope","$http","$route","$window","$location"];o.$inject=["$scope","$http","$route","$window","$location"];t.$inject=["$scope","$http","$route","$window","$location"];function e(e,o,t,n,r){e.search="";e.searchjob=function(e){n.location.href="/user/jobs?search="+e}}function o(e,o,t,n,r){e.search="";e.searchresume=function(e){n.location.href="/user/Freelancers?search="+e}}function t(e,o,t,n,r){e.search="";e.searchBlog=function(e){n.location.href="/user/blog?search="+e}}})();(function(){angular.module("BossApp").controller("homeCtrl",e).controller("getCraditCtrl",o);e.$inject=["$scope","$http","$route","$window","ngDialog"];o.$inject=["$scope","$http","$route","$window","ngDialog"];function e(e,o,t,n,r){e.cradit=function(){r.open({template:"getGradit",controller:"getCraditCtrl",className:"ngdialog-theme-default",closeByDocument:false,closeByEscape:false})}}function o(e,o,t,n,r){e.value=100;e.button="Make payment";e.pay=function(t){if(!t){e.formError="Enter a valid amount";return}e.credentials={amount:e.value*100};e.clear();e.button="Sending...";o.post("/user/pay",e.credentials).then(function(e){n.location.href=e.data.message},function(o){e.button="Make payment";e.formError=o.data.message})};e.clear=function(){e.formError=""}}})();